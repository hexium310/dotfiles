[[plugins]]
repo = 'Shougo/dein.vim'
hook_add = '''
  command! -nargs=0 DeinUpdate call s:dein_update()
  command! -nargs=0 DeinRecache call dein#recache_runtimepath()

  function s:dein_update() abort
    call dein#update()

    let buf = nvim_create_buf(v:false, v:true)
    split
    call nvim_set_current_buf(buf)
    put! ='Updating...'
    call dein#set_hook([], 'hook_done_update', 'call Display_updates_log(' . buf . ')')
  endfunction

  function! Display_updates_log(buf) abort
    let log = dein#get_updates_log()
    call nvim_buf_set_lines(a:buf, 0, -1, v:true, add(split(log, "\n"), ""))
  endfunction

  autocmd VimEnter * call dein#call_hook('post_source')
'''

[[plugins]]
repo = 'nathom/filetype.nvim'
hook_add = '''
  let g:did_load_filetypes = 1
'''

[[plugins]]
repo = 'RRethy/nvim-base16'
hook_add = '''
  " Due to loading the `colors` module is slow, include only the colorscheme to use.
  lua << EOF
    -- Make the priority of `package.preload` the highest temporarily until loading the `colors` module in this plugin.
    -- The first loader is via dein.vim, and the second loader is via Neovim.
    table.insert(package.loaders, 1, package.loaders[3])

    package.preload['colors'] = function ()
      if #package.loaders == 7 then
        table.remove(package.loaders, 1)
      end
      return {
        ['tomorrow-night-eighties'] = require('colors.tomorrow-night-eighties'),
      }
    end
EOF
'''

[[plugins]]
repo = 'ii14/onedark.nvim'

[[plugins]]
repo = 'editorconfig/editorconfig-vim'

[[plugins]]
repo = 'itchyny/lightline.vim'
hook_add = '''
  call plugin#lightline#set_variables()
  call plugin#lightline#automcd()
'''

[[plugins]]
repo = 'RRethy/vim-hexokinase'
if = 'executable("go")'
build = '''
  make hexokinase
'''
hook_add = '''
  let g:Hexokinase_virtualText = 'â—'
  let g:Hexokinase_ftAutoload = ['*']
  let g:Hexokinase_refreshEvents = ['BufEnter', 'TextChanged', 'TextChangedI']
'''

[[plugins]]
repo = 'osyo-manga/vim-anzu'
on_map = '<Plug>'
hook_add = '''
  nmap <silent> <Esc><Esc> <Plug>(anzu-clear-search-status):nohlsearch<Cr>
  nmap n <Plug>(anzu-n)zz
  nmap N <Plug>(anzu-N)zz
  nmap * <Plug>(anzu-star)zz
  nmap # <Plug>(anzu-sharp)zz
'''

[[plugins]]
repo = 'qpkorr/vim-bufkill'
hook_add = '''
  cabbrev bd BD
'''

[[plugins]]
repo = 'AndrewRadev/splitjoin.vim'
on_map = ['gJ', 'gS']
hook_add = '''
  let g:splitjoin_html_attributes_bracket_on_new_line = 1
'''

[[plugins]]
repo = 'chaoren/vim-wordmotion'
hook_add = '''
  let g:wordmotion_nomap = 1
  nmap w <Plug>WordMotion_w
  nmap b <Plug>WordMotion_b
  nmap e <Plug>WordMotion_e
  nmap ge <Plug>WordMotion_ge
'''

[[plugins]]
repo = 'rhysd/clever-f.vim'
on_map = ['f', 'F', 't', 'T']
hook_add = '''
  let g:clever_f_use_migemo = 1
  let g:clever_f_fix_key_direction = 1
  map ; <Plug>(clever-f-repeat-forward)
  map , <Plug>(clever-f-repeat-back)
'''

[[plugins]]
repo = 'tversteeg/registers.nvim'
hook_add = '''
  let g:registers_window_min_height = 15
  let g:registers_window_border = 'single'
'''

[[plugins]]
repo = 'junegunn/fzf.vim'
if = 'executable("fzf")'
hook_add = '''
  set runtimepath+=$FZF_HOME
  call plugin#fzf#set_variables()
  call plugin#fzf#set_maps()
  call plugin#fzf#set_commands()
'''

[[plugins]]
repo = 'akinsho/nvim-toggleterm.lua'
on_cmd = [
  'ToggleTerm',
  'TermExec',
  'Yarn',
]
on_map = {
  ni = '<C-t>',
}
hook_post_source = '''
  lua require('plugins/toggleterm')()
'''

[[plugins]]
repo = 'kevinhwang91/nvim-bqf'

[[plugins]]
repo = 'windwp/nvim-autopairs'
on_lua = ['cmp']
hook_post_source = '''
  lua require('plugins/autopairs')()
'''

[[plugins]]
repo = 'numToStr/Comment.nvim'
depends = ['nvim-ts-context-commentstring']
on_map = ['gc']
hook_post_source = '''
  lua require('plugins/comment')()
'''

[[plugins]]
repo = 'tpope/vim-fugitive'
on_func = [
  'FugitiveGitDir'
]
on_cmd = [
  'G',
  'Git',
  'Ggrep',
  'Glgrep',
  'Gclog',
  'Gllog',
  'Gcd',
  'Glcd',
  'Gedit',
  'Gsplit',
  'Gvsplit',
  'Gtabedit',
  'Gpedit',
  'Gread',
  'Gwrite',
  'Gwq',
  'Gdiffsplit',
  'Gvdiffsplit',
  'Ghdiffsplit',
  'GMove',
  'GRename',
  'GDelete',
  'GRemove',
  'GBrowse',
]
hook_add ='''
  call plugin#fugitive#set_maps()
'''

[[plugins]]
repo = 'lewis6991/gitsigns.nvim'
hook_post_source = '''
  lua require('plugins/gitsigns')()
'''

[[plugins]]
repo = 'rhysd/conflict-marker.vim'
hook_add = '''
  let g:conflict_marker_enable_mappings = 0
  let g:conflict_marker_enable_highlight = 0
  nmap ]f <Plug>(conflict-marker-next-hunk)
  nmap [f <Plug>(conflict-marker-prev-hunk)
'''

[[plugins]]
repo = 'nvim-lua/plenary.nvim'
on_lua = ['plenary']

[[plugins]]
repo = 'notomo/lreload.nvim'
on_ft = ['lua']
hook_post_source = '''
  lua require('lreload').enable('plugins')
'''

[[plugins]]
repo = 'neovim/nvim-lspconfig'
on_event = 'VimEnter'
hook_post_source = '''
  lua require('plugins/lsp')()
'''

[[plugins]]
repo = 'williamboman/nvim-lsp-installer'
on_lua = ['nvim-lsp-installer']

[[plugins]]
repo = 'jose-elias-alvarez/null-ls.nvim'
depends = ['nvim-lspconfig', 'plenary.nvim']
on_lua = ['lspconfig']

[[plugins]]
repo = 'hrsh7th/nvim-cmp'
on_lua = ['lspconfig']

[[plugins]]
repo = 'hrsh7th/vim-vsnip'
on_lua = ['cmp']

[[plugins]]
repo = 'hrsh7th/cmp-nvim-lsp'
on_lua = ['cmp']

[[plugins]]
repo = 'hrsh7th/cmp-buffer'
on_lua = ['cmp']

[[plugins]]
repo = 'hrsh7th/cmp-path'
on_lua = ['cmp']
